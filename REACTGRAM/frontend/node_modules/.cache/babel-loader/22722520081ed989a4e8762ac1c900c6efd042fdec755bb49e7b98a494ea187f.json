{"ast":null,"code":"import _slicedToArray from\"C:/Users/leoga/Desktop/Backup/GitHub/reactgram-project/REACTGRAM/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./Auth.css\";// Components\nimport{Link}from\"react-router-dom\";import Message from\"../../components/Message\";// Hooks\nimport{useEffect,useState}from\"react\";import{useSelector,useDispatch}from\"react-redux\";// Redux\nimport{login,reset}from\"../../slices/authSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.auth;}),loading=_useSelector.loading,error=_useSelector.error;var handleSubmit=function handleSubmit(e){e.preventDefault();var user={email:email,password:password};console.log(user);dispatch(login(user));};// Clean all auth states\nuseEffect(function(){dispatch(reset());},[dispatch]);return/*#__PURE__*/_jsxs(\"div\",{id:\"login\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"ReactGram\"}),/*#__PURE__*/_jsx(\"p\",{className:\"subtitle\",children:\"Log in to see what's new.\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"E-mail\",onChange:function onChange(e){return setEmail(e.target.value);},value:email}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",onChange:function onChange(e){return setPassword(e.target.value);},value:password}),!loading&&/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Sign In\"}),loading&&/*#__PURE__*/_jsx(\"input\",{type:\"submit\",disabled:true,value:\"Loading...\"}),error&&/*#__PURE__*/_jsx(Message,{msg:error,type:\"error\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Click here\"})]})]});};export default Login;","map":{"version":3,"names":["Link","Message","useEffect","useState","useSelector","useDispatch","login","reset","Login","email","setEmail","password","setPassword","dispatch","state","auth","loading","error","handleSubmit","e","preventDefault","user","console","log","target","value"],"sources":["C:/Users/leoga/Desktop/Backup/GitHub/reactgram-project/REACTGRAM/frontend/src/pages/Auth/Login.js"],"sourcesContent":["import \"./Auth.css\";\r\n\r\n// Components\r\nimport { Link } from \"react-router-dom\";\r\nimport Message from \"../../components/Message\";\r\n\r\n// Hooks\r\nimport { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\n// Redux\r\nimport { login, reset } from \"../../slices/authSlice\";\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const { loading, error } = useSelector((state) => state.auth);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const user = {\r\n      email,\r\n      password,\r\n    };\r\n\r\n    console.log(user);\r\n\r\n    dispatch(login(user));\r\n  };\r\n\r\n  // Clean all auth states\r\n  useEffect(() => {\r\n    dispatch(reset());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <div id=\"login\">\r\n      <h2>ReactGram</h2>\r\n      <p className=\"subtitle\">Log in to see what's new.</p>\r\n      <form onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"E-mail\"\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          value={email}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          value={password}\r\n        />\r\n        {!loading && <input type=\"submit\" value=\"Sign In\" />}\r\n        {loading && <input type=\"submit\" disabled value=\"Loading...\" />}\r\n        {error && <Message msg={error} type=\"error\" />}\r\n      </form>\r\n      <p>\r\n      Don't have an account? <Link to=\"/register\">Click here</Link>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;"],"mappings":"+JAAA,MAAO,YAAY,CAEnB;AACA,OAASA,IAAI,KAAQ,kBAAkB,CACvC,MAAOC,QAAO,KAAM,0BAA0B,CAE9C;AACA,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CAEtD;AACA,OAASC,KAAK,CAAEC,KAAK,KAAQ,wBAAwB,CAAC,wFAEtD,GAAMC,MAAK,CAAG,QAARA,MAAK,EAAS,CAClB,cAA0BL,QAAQ,CAAC,EAAE,CAAC,wCAA/BM,KAAK,eAAEC,QAAQ,eACtB,eAAgCP,QAAQ,CAAC,EAAE,CAAC,yCAArCQ,QAAQ,eAAEC,WAAW,eAE5B,GAAMC,SAAQ,CAAGR,WAAW,EAAE,CAE9B,iBAA2BD,WAAW,CAAC,SAACU,KAAK,QAAKA,MAAK,CAACC,IAAI,GAAC,CAArDC,OAAO,cAAPA,OAAO,CAAEC,KAAK,cAALA,KAAK,CAEtB,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIC,CAAC,CAAK,CAC1BA,CAAC,CAACC,cAAc,EAAE,CAElB,GAAMC,KAAI,CAAG,CACXZ,KAAK,CAALA,KAAK,CACLE,QAAQ,CAARA,QACF,CAAC,CAEDW,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC,CAEjBR,QAAQ,CAACP,KAAK,CAACe,IAAI,CAAC,CAAC,CACvB,CAAC,CAED;AACAnB,SAAS,CAAC,UAAM,CACdW,QAAQ,CAACN,KAAK,EAAE,CAAC,CACnB,CAAC,CAAE,CAACM,QAAQ,CAAC,CAAC,CAEd,mBACE,aAAK,EAAE,CAAC,OAAO,wBACb,iCAAkB,cAClB,UAAG,SAAS,CAAC,UAAU,uCAA8B,cACrD,cAAM,QAAQ,CAAEK,YAAa,wBAC3B,cACE,IAAI,CAAC,MAAM,CACX,WAAW,CAAC,QAAQ,CACpB,QAAQ,CAAE,kBAACC,CAAC,QAAKT,SAAQ,CAACS,CAAC,CAACK,MAAM,CAACC,KAAK,CAAC,EAAC,CAC1C,KAAK,CAAEhB,KAAM,EACb,cACF,cACE,IAAI,CAAC,UAAU,CACf,WAAW,CAAC,UAAU,CACtB,QAAQ,CAAE,kBAACU,CAAC,QAAKP,YAAW,CAACO,CAAC,CAACK,MAAM,CAACC,KAAK,CAAC,EAAC,CAC7C,KAAK,CAAEd,QAAS,EAChB,CACD,CAACK,OAAO,eAAI,cAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,EAAG,CACnDA,OAAO,eAAI,cAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ,MAAC,KAAK,CAAC,YAAY,EAAG,CAC9DC,KAAK,eAAI,KAAC,OAAO,EAAC,GAAG,CAAEA,KAAM,CAAC,IAAI,CAAC,OAAO,EAAG,GACzC,cACP,4DACuB,KAAC,IAAI,EAAC,EAAE,CAAC,WAAW,wBAAkB,GACzD,GACA,CAEV,CAAC,CAED,cAAeT,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}